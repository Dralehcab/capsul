
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
    <title>CAPSUL &#8212; CAPSUL - Chain algorithm in pipelines and execute in many contexts</title>
  <!-- htmltitle is before nature.css - we use this hack to load bootstrap first -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../_static/css/bootstrap.min.css" media="screen" />
  <link rel="stylesheet" href="../_static/css/bootstrap-responsive.css"/>
  <link rel="icon" href="../_static/capsul_logo.svg"/>

    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" title="Search" href="../search.html" />
  
   
       <script type="text/javascript" src="../_static/sidebar.js"></script>
   
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="../_static/js/bootstrap.min.js" type="text/javascript"></script>

  <script type="text/javascript">
    $("div.buttonNext, div.buttonPrevious").hover(
       function () {
           $(this).css('background-color', '#FF9C34');
       },
       function () {
           $(this).css('background-color', '#A7D6E2');
       }
    );
    var bodywrapper = $('.bodywrapper');
    var sidebarbutton = $('#sidebarbutton');
    sidebarbutton.css({'height': '900px'});
  </script>

  </head>
  <body>

  <div class="header" style="display: inline; width: 80%; margin-left:10%;">
    <a href="../index.html">
    <img src="../_static/capsul_logo.svg" alt="Capsul logo" style="display: inline; height:4em;"/>
    </a >
    <div class="navbar" style="display: inline;">
      <ul>
        <li><a href="../index.html">Home</a></li>
        <li><a href="../installation.html">Installation</a></li>
        <li class="btn-li">
          <div class="btn-group">
            <a href="../documentation.html">Documentation</a>
            <a class="btn dropdown-toggle" data-toggle="dropdown">
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <li class="link-title">CAPSUL</li>
              <li><a href="#">User guide</a></li>
              <li><a href="../api_tree/index.html">API</a></li>
              <li><a href="../gui_tree/index.html">GUI</a></li>
              <li class="divider"></li>
              <li><a href="../developer_tree/index.html">Development</a></li>
            </ul>
          </div>
        </li>
        <li>
          <!-- form action="search.html" method="get" style="display: inline-block;"></form>
            <input type="text" class="search-header" name="q" placeholder="search documentation..." value=""></input>
            <button type="submit" >search</button>
          </form -->
          <form class="search_box" method="get" action="http://www.google.com/search" style="display: inline-block;">
            <input class="search-header" type="text" name="q" placeholder="search documentation..." />
            <input class="submit" type="image" src="../_static/find_read.png" value="Search" />
            <input type="hidden" name="sitesearch" value="brainvisa.info/capsul" />
          </form>
        </li>
      </ul>
    </div> <!-- end navbar -->
  </div>


<div class="content-wrapper">
    <div class="sphinxsidebar">
      <div class="sphinxsidebarwrapper">

        <!-- info setup -->
          <p class="doc-version">
           This documentation is for CAPSUL <strong>version 2.1.1</strong>
          </p>
<!--        <p class="citing">
          If you use the software, please do not esitate to 
          <a &mdash; <a href="https://bioproj.extra.cea.fr/redmine/projects/capsul/">
          Report a Bug</a>.
        </p>-->

      <!-- toc tree -->
      <ul>
<li><a class="reference internal" href="#">User Guide</a><ul>
<li><a class="reference internal" href="#tutorial">Tutorial</a></li>
<li><a class="reference internal" href="#running-capsul">Running Capsul</a><ul>
<li><a class="reference internal" href="#running-as-commandline">Running as commandline</a></li>
</ul>
</li>
<li><a class="reference internal" href="#xml-specifications">XML Specifications</a></li>
<li><a class="reference internal" href="#advanced-usage">Advanced usage</a></li>
</ul>
</li>
</ul>


      </div>
    </div>
  

  <div class="content">
      
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="user-guide">
<span id="capsul-guide"></span><h1>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h1>
<p>The main documentation of all the proposed scripts.</p>
<div class="section" id="tutorial">
<h2>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h2>
<p>Tutorial is available as a <a class="reference external" href="https://jupyter.org/">Jupyter notebook</a> (Jupyter is the new name for <a class="reference external" href="http://ipython.org/notebook.html">IPython notebook</a>).</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="../_static/tutorial/capsul_tutorial.html">See the notebook contents</a></li>
<li><a class="reference external" href="../_static/tutorial/capsul_tutorial.ipynb">Download notebook</a> (for use with Jupyter)</li>
</ul>
</div></blockquote>
<p>To run it, the following must be done:</p>
<ul>
<li><p class="first"><a class="reference internal" href="../installation.html#install-guid"><span class="std std-ref">CAPSUL installation</span></a>.</p>
</li>
<li><p class="first">have IPython installed.</p>
</li>
<li><p class="first">run the tutorial ipython notebook server, with Qt GUI support:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre><span></span>jupyter notebook --gui<span class="o">=</span>qt my_tutorial.ipynb
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="running-capsul">
<h2>Running Capsul<a class="headerlink" href="#running-capsul" title="Permalink to this headline">¶</a></h2>
<div class="section" id="running-as-commandline">
<h3>Running as commandline<a class="headerlink" href="#running-as-commandline" title="Permalink to this headline">¶</a></h3>
<p>CAPSUL has a commandline program to run any process, pipeline, or process iteration. It can be used from a shell, or a script. It allows to run locally, either sequentially or in parallel, or on a remote processing server using Soma-Workflow.</p>
<p>The program is a python module/script:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python -m capsul &lt;parameters&gt;
</pre></div>
</div>
<p>It can accept a variety of options to controll configuration settings, processing modes, iterations, and process parameters either through file names or via attributes and paramters completion system.</p>
<p>To get help, you may run it with the <code class="docutils literal"><span class="pre">-h</span></code> or <code class="docutils literal"><span class="pre">--help</span></code> option:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python -m capsul -h
</pre></div>
</div>
<p><strong>Ex:</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python -m capsul --swf -i /home/data/study_data --studyconfig /home/data/study_data/study_config.json -a <span class="nv">subject</span><span class="o">=</span>subjet01 -a <span class="nv">center</span><span class="o">=</span>subjects morphologist.capsul.morphologist.Morphologist
</pre></div>
</div>
<p>will run the Morphologist pipeline on data located in the directory <code class="docutils literal"><span class="pre">/home/data/study_data</span></code> using Soma-Workflow on the local computer, for subject <code class="docutils literal"><span class="pre">subject01</span></code></p>
<p><strong>Ex with iteration:</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python -m capsul --swf -i /home/data/study_data --studyconfig /home/data/study_data/study_config.json -a <span class="nv">subject</span><span class="o">=</span><span class="s1">&#39;[&quot;subjet01&quot;, &quot;subject02&quot;, &quot;subject03&quot;]&#39;</span> -a <span class="nv">center</span><span class="o">=</span>subjects -I t1mri morphologist.capsul.morphologist.Morphologist
</pre></div>
</div>
<p>will iterate the same process 3 times, for 3 different subjects.</p>
<p>To work correctly, StudyConfig settings have to be correctly defined in <code class="docutils literal"><span class="pre">study_config.json</span></code> including FOM completion parameters, external software, formats, etc.</p>
<p>Alternatively, or in addition to attributes, it is possible to pass process parameters as additional options after the process name. They can be passed either as positional arguments (given in the order the process expects), or as “keyword” arguments:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python -m capsul --swf -i /home/data/study_data --studyconfig /home/data/study_data/study_config.json -a <span class="nv">subject</span><span class="o">=</span>subjet01 -a <span class="nv">center</span><span class="o">=</span>subjects morphologist.capsul.morphologist.Morphologist /home/data/raw_data/subject01.nii.gz <span class="nv">pipeline_steps</span><span class="o">=</span><span class="s1">&#39;{&quot;importation&quot;: True, &quot;orientation&quot;: True}&#39;</span>
</pre></div>
</div>
<p>To get help about a process, its parameters, and available attributes to control its completion:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python -m capsul --process-help morphologist.capsul.morphologist.Morphologist
</pre></div>
</div>
</div>
</div>
<div class="section" id="xml-specifications">
<h2>XML Specifications<a class="headerlink" href="#xml-specifications" title="Permalink to this headline">¶</a></h2>
<p>Processes may be functions with XML specifications for their parameters.</p>
<p>Pipelines can be saved and loaded as XML files.</p>
<p><a class="reference internal" href="xml_spec.html"><span class="doc">The specs of XML definitions can be found on this page.</span></a></p>
</div>
<div class="section" id="advanced-usage">
<h2>Advanced usage<a class="headerlink" href="#advanced-usage" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="advanced_usage.html"><span class="doc">More advanced features can be found on this page.</span></a></p>
</div>
</div>


          </div>
        </div>
      </div>
    <div class="clearer">
    </div>
  </div>
  
</div>

<div class="footer">
    &copy; 2017, BrainVISA team &lt;support@brainvisa.info&gt;.
</div>
  </body>
</html>